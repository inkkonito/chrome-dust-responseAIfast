<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dust AI Assistant</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="popup-container">
    <!-- Header -->
    <div class="popup-header">
      <h1>
        <img src="icon/favicon-32x32-1.png" alt="DataDome" class="header-logo">
        Dust AI Assistant
      </h1>
      <div class="header-actions">
        <button id="selectTextBtn" class="btn btn-primary">âœ¨ Select Text</button>
        <button id="settingsBtn" class="icon-btn" title="Settings">âš™ï¸</button>
      </div>
    </div>

    <!-- Status Message -->
    <div id="statusMessage" class="status-message" style="display: none;"></div>

    <!-- History Section -->
    <div class="history-section">
      <div class="history-header">
        <!-- Recent Queries header removed to save space -->
      </div>

      <!-- Loading State -->
      <div id="loadingState" class="loading-state" style="display: none;">
        <div class="loading-spinner"></div>
        <p>Loading history...</p>
      </div>

      <!-- Empty State -->
      <div id="emptyState" class="empty-state" style="display: none;">
        <div class="empty-icon">ğŸ“</div>
        <p>No queries yet</p>
        <p class="empty-hint">Click "Select Text" to get started</p>
      </div>

      <!-- History List -->
      <div id="historyList" class="history-list"></div>

      <!-- Footer -->
      <div class="history-footer">
        <button id="viewAllBtn" class="btn btn-link">View All History â†’</button>
      </div>
    </div>
  </div>

  <!-- Answer Modal -->
  <div id="answerModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Full Answer</h2>
        <button class="modal-close" id="modalClose">âœ•</button>
      </div>
      <div class="modal-body" id="modalBody">
        <!-- Answer content will be inserted here -->
      </div>
      <div class="modal-footer">
        <button id="modalCopyBtn" class="btn btn-secondary">ğŸ“‹ Copy Answer</button>
        <button id="modalCopyLinksBtn" class="btn btn-secondary">ğŸ”— Copy Links</button>
        <button id="modalCloseBtn" class="btn btn-primary">Close</button>
      </div>
    </div>
  </div>

  <script src="marked.min.js"></script>
  <script src="katex.min.js"></script>
  <script src="utils/toast.js"></script>
  <script src="utils/response.js"></script>
  <script src="utils/formatting.js"></script>
  <script src="popup.js"></script>
</body>
</html>
